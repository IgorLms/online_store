# Интернет магазин на DRF

Реализовал веб-приложение, предоставляющее функциональность интернет-магазина.

- Создал три таблицы БД (категория товара, товар, история изменений);
- Реализовал аутентификация пользователей с использованием токена;
- Присутствует вывод списка товара с пагинацией для неавторизованных пользователей;
- Для авторизованных пользователей существует возможность просмотра списка категорий, добавление, изменение и удаление категории;
- Также для авторизованных пользователей есть возможность просматривать, удалять изменять и добавлять товар.

## Быстрый старт
```commandline
mkdir название_папки
cd название папки/

git clone https://github.com/IgorLms/online_store.git

cd online_store/

python -m venv venv
source venv/Scripts/activate
pip install django djangorestframework python-dotenv psycopg2

cd online_store/

nano .env
DB_NAME=DB_NAME
DB_USER=DB_USER
DB_PASS=DB_PASS
DB_HOST=DB_HOST
DB_PORT=DB_PORT

python manage.py migrate
python manage.py loaddata my_data.json
python manage.py runserver
```

## Описание API

Регистрация

| Метод | Ресурс    | Параметры                                                                               | Ответ                |
|-------|-----------|-----------------------------------------------------------------------------------------|----------------------|
| POST  | register/ | email (почта); name (имя); password (пароль); password_confirmation (повторение пароля) | access_token (токен) |

Авторизация

| Метод | Ресурс | Параметры                        | Ответ                |
|-------|--------|----------------------------------|----------------------|
| POST  | login/ | email (почта); password (пароль) | access_token (токен) |

Список товара (без авторизации)

| Метод | Ресурс                 | Параметры | Ответ                                                                                                                                 |
|-------|------------------------|-----------|---------------------------------------------------------------------------------------------------------------------------------------|
| GET   | login/?page={{number}} | -         | name (название товара); description (описание товара); category_name (название категории); price (цена); quantity (количество товара) |

Добавление, изменение, удаление, просмотр товара (с авторизацией, передать токен)

| Метод  | Ресурс          | Параметры                                                                                                                            | Ответ                                                                                                                                                                     |
|--------|-----------------|--------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| POST   | product/        | name (название товара); description (описание товара); price (цена товара); quantity (количество товара); category_id (id категории) | id (идентификатор товара); name (название товара);  description (описание товара); price (цена товара); quantity (количество товара);  history (история изменения товара) |
| GET    | product/{{id}}/ | -                                                                                                                                    | id (идентификатор товара); name (название товара);  description (описание товара); price (цена товара); quantity (количество товара);  history (история изменения товара) |
| PUT    | product/{{id}}/ | name (название товара); description (описание товара); price (цена товара); quantity (количество товара); category_id (id категории) | id (идентификатор товара); name (название товара);  description (описание товара); price (цена товара); quantity (количество товара);  history (история изменения товара) |
| DELETE | product/{{id}}/ | -                                                                                                                                    | -                                                                                                                                                                         |

Добавление, изменение, удаление, просмотр категории (с авторизацией, передать токен)

| Метод  | Ресурс           | Параметры                                                    | Ответ                                                                                                                        |
|--------|------------------|--------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------|
| GET    | category/        | name (название категории);  description (описание категории) | id (идентификатор категории); name (название категории);  description (описание категории); total_amount (количество товара) |
| POST   | category/        | -                                                            | id (идентификатор категории); name (название категории);  description (описание категории); total_amount (количество товара) |
| PUT    | category/{{id}}/ | name (название категории);  description (описание категории) | id (идентификатор категории); name (название категории);  description (описание категории); total_amount (количество товара) |
| DELETE | product/{{id}}/  | -                                                            | -                                                                                                                            |